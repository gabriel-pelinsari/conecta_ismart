
### M√ìDULO 2: PERFIL DE USU√ÅRIO

#### RF010 - Visualiza√ß√£o de perfil pr√≥prio

##### User Story
Como **aluno cadastrado**
Quero **visualizar meu pr√≥prio perfil completo**
Para **ver como outros usu√°rios me enxergam e acompanhar meu progresso na plataforma**

##### Descri√ß√£o
P√°gina de perfil que exibe todas as informa√ß√µes do usu√°rio autenticado, incluindo dados pessoais, estat√≠sticas, badges conquistadas, redes sociais e hist√≥rico de atividades.

##### Regras de Neg√≥cio
- RN001: Perfil pr√≥prio exibe TODAS as informa√ß√µes, incluindo redes sociais completas
- RN002: Estat√≠sticas mostram: threads criadas, coment√°rios feitos, eventos participados
- RN003: Badges s√£o exibidas em ordem cronol√≥gica (mais recente primeiro)
- RN004: Bot√£o "Editar Perfil" sempre vis√≠vel
- RN005: Indicador visual de completude do perfil (ex: 80% completo)
- RN006: Link para perfil pr√≥prio acess√≠vel via menu/navbar
- RN007: Exibir pontua√ß√£o total e n√≠vel de engajamento atual

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que estou autenticado
      Quando acesso "Meu Perfil"
      Ent√£o vejo todas minhas informa√ß√µes, foto, bio, tags, badges e estat√≠sticas
      
- [ ] Dado que completei 50% do perfil
      Quando visualizo meu perfil
      Ent√£o vejo barra de progresso indicando "50% completo" com dicas do que falta
      
- [ ] Dado que conquistei 3 badges
      Quando visualizo se√ß√£o de badges
      Ent√£o vejo as 3 badges com √≠cones e descri√ß√µes
      
- [ ] Dado que criei 10 threads e 25 coment√°rios
      Quando visualizo estat√≠sticas
      Ent√£o vejo contadores corretos de threads (10) e coment√°rios (25)
      
- [ ] Dado que adicionei WhatsApp e Instagram
      Quando visualizo meu perfil
      Ent√£o vejo ambos os contatos vis√≠veis (s√≥ eu vejo)

##### Prioridade
**Alta** - Funcionalidade core para engajamento

##### Complexidade
**Baixa** - Exibi√ß√£o de dados j√° armazenados

##### Depend√™ncias
RF003 (Cadastro conclu√≠do)

##### Notas/Observa√ß√µes
- Layout deve ser clean e organizado (usar cards/se√ß√µes)
- Foto de perfil em destaque no topo
- Implementar tabs para organizar conte√∫do (Sobre, Atividades, Badges)
- Preview de threads/coment√°rios recentes
- Link compartilh√°vel do perfil (copiar para clipboard)
- Responsivo para mobile



#### RF011 - Visualiza√ß√£o de perfil de outros usu√°rios

##### User Story
Como **aluno cadastrado**
Quero **visualizar perfis de outros alunos ISMART**
Para **conhecer mais sobre eles antes de me conectar ou interagir**

##### Descri√ß√£o
P√°gina de perfil p√∫blico que exibe informa√ß√µes de outros usu√°rios da plataforma, com restri√ß√µes de privacidade para redes sociais (vis√≠veis apenas para amigos).

##### Regras de Neg√≥cio
- RN001: Perfis s√£o p√∫blicos dentro da plataforma (qualquer usu√°rio logado pode ver)
- RN002: Redes sociais (WhatsApp, Instagram, LinkedIn) ocultas para n√£o-amigos
- RN003: Estat√≠sticas p√∫blicas s√£o sempre vis√≠veis
- RN004: Badges conquistadas s√£o sempre vis√≠veis
- RN005: Bot√£o "Adicionar amigo" vis√≠vel se n√£o forem amigos
- RN006: Se j√° amigos, redes sociais ficam vis√≠veis
- RN007: Bot√£o "Enviar mensagem" desabilitado (Fase 2)

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que visualizo perfil de algu√©m que N√ÉO √© meu amigo
      Quando acesso o perfil
      Ent√£o vejo informa√ß√µes b√°sicas, bio, tags, badges, mas n√£o vejo redes sociais
      
- [ ] Dado que visualizo perfil de algu√©m que √â meu amigo
      Quando acesso o perfil
      Ent√£o vejo todas as informa√ß√µes incluindo WhatsApp, Instagram e LinkedIn
      
- [ ] Dado que visualizo perfil e ainda n√£o somos amigos
      Quando vejo o bot√£o de a√ß√£o
      Ent√£o aparece "Adicionar amigo" ou "Solicita√ß√£o enviada" se j√° solicitei
      
- [ ] Dado que visualizo perfil de usu√°rio com 5 badges
      Quando vejo a se√ß√£o de badges
      Ent√£o todas as 5 badges s√£o exibidas com √≠cones e descri√ß√µes
      
- [ ] Dado que clico em universidade/curso do usu√°rio
      Quando interajo com esses campos
      Ent√£o sou redirecionado para p√°gina de alunos daquela universidade/curso

##### Prioridade
**Alta** - Essencial para descoberta e conex√£o

##### Complexidade
**M√©dia** - L√≥gica de privacidade condicional

##### Depend√™ncias
RF010 (Visualiza√ß√£o pr√≥pria), RF056 (Sistema de amizades)

##### Notas/Observa√ß√µes
- Layout id√™ntico ao perfil pr√≥prio, mas sem bot√£o "Editar"
- Indicador visual: "Amigos" ou "Adicionar amigo"
- Placeholder para redes sociais ocultas: "Conecte-se para ver contatos"
- Breadcrumb para voltar √† lista de alunos
- Bot√£o de den√∫ncia discreto (relat√≥rio de perfil inadequado)



#### RF012 - Edi√ß√£o de informa√ß√µes b√°sicas (nome, foto, universidade, curso, semestre)

##### User Story
Como **aluno cadastrado**
Quero **editar minhas informa√ß√µes b√°sicas de perfil**
Para **manter meus dados atualizados conforme mudo de semestre ou curso**

##### Descri√ß√£o
Modal ou p√°gina de edi√ß√£o onde o usu√°rio pode atualizar informa√ß√µes cadastrais b√°sicas como nome, universidade, curso e semestre atual.

##### Regras de Neg√≥cio
- RN001: Nome completo: 3-100 caracteres
- RN002: Universidade deve ser selecionada de lista predefinida
- RN003: Curso deve ser selecionado de lista predefinida
- RN004: Semestre: n√∫mero entre 1-12
- RN005: Email N√ÉO pode ser alterado (somente via suporte)
- RN006: Altera√ß√µes s√£o salvas em tempo real ou ap√≥s confirma√ß√£o
- RN007: Hist√≥rico de altera√ß√µes registrado para auditoria (backend)

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que clico em "Editar Perfil"
      Quando modal/p√°gina abre
      Ent√£o vejo formul√°rio pr√©-preenchido com dados atuais
      
- [ ] Dado que altero meu semestre de 3 para 4
      Quando salvo as altera√ß√µes
      Ent√£o meu perfil atualiza imediatamente e mostra "4¬∫ semestre"
      
- [ ] Dado que tento alterar nome para texto vazio
      Quando tento salvar
      Ent√£o vejo valida√ß√£o impedindo campo obrigat√≥rio vazio
      
- [ ] Dado que altero universidade
      Quando salvo
      Ent√£o meu grupo autom√°tico por universidade √© atualizado
      
- [ ] Dado que mudo de semestre para 4¬∫ ou superior
      Quando sistema processa
      Ent√£o posso me tornar mentor eleg√≠vel automaticamente

##### Prioridade
**Alta** - Dados devem estar sempre atualizados

##### Complexidade
**Baixa** - CRUD b√°sico com valida√ß√µes

##### Depend√™ncias
RF010 (Visualiza√ß√£o de perfil)

##### Notas/Observa√ß√µes
- Modal de edi√ß√£o prefer√≠vel (evita mudan√ßa de p√°gina)
- Valida√ß√µes em tempo real (feedback instant√¢neo)
- Bot√£o "Cancelar" deve descartar altera√ß√µes n√£o salvas
- Autocomplete para universidades/cursos
- Confirma√ß√£o: "Altera√ß√µes salvas com sucesso"
- Mudan√ßa de semestre pode impactar elegibilidade para mentoria



#### RF013 - Edi√ß√£o de bio/sobre mim (texto livre)

##### User Story
Como **aluno cadastrado**
Quero **escrever uma bio personalizada no meu perfil**
Para **me apresentar e compartilhar minha hist√≥ria com a comunidade**

##### Descri√ß√£o
Campo de texto livre onde o usu√°rio pode escrever uma bio pessoal contando sobre si, suas experi√™ncias, objetivos e interesses de forma mais detalhada.

##### Regras de Neg√≥cio
- RN001: Bio pode ter no m√°ximo 500 caracteres
- RN002: Formata√ß√£o b√°sica permitida: quebras de linha
- RN003: Emojis s√£o permitidos
- RN004: Links n√£o s√£o clic√°veis (seguran√ßa)
- RN005: Sanitiza√ß√£o de HTML (prevenir XSS)
- RN006: Campo √© opcional
- RN007: Contador de caracteres vis√≠vel em tempo real

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que edito minha bio
      Quando digito no campo
      Ent√£o vejo contador mostrando caracteres restantes (ex: 350/500)
      
- [ ] Dado que tento escrever bio com mais de 500 caracteres
      Quando atingo o limite
      Ent√£o campo impede digita√ß√£o adicional
      
- [ ] Dado que escrevo bio com quebras de linha
      Quando salvo e visualizo perfil
      Ent√£o quebras de linha s√£o preservadas na exibi√ß√£o
      
- [ ] Dado que tento inserir c√≥digo HTML na bio
      Quando salvo
      Ent√£o sistema sanitiza e remove tags HTML
      
- [ ] Dado que escrevo bio com emojis üéì‚ú®
      Quando salvo
      Ent√£o emojis s√£o preservados e exibidos corretamente

##### Prioridade
**M√©dia** - Importante para personaliza√ß√£o mas n√£o cr√≠tico

##### Complexidade
**Baixa** - Campo de texto com valida√ß√µes simples

##### Depend√™ncias
RF010 (Visualiza√ß√£o de perfil), RF012 (Edi√ß√£o b√°sica)

##### Notas/Observa√ß√µes
- Textarea expans√≠vel (n√£o limitado visualmente)
- Placeholder sugestivo: "Conte um pouco sobre voc√™, seus objetivos..."
- Preview em tempo real opcional
- Biblioteca de sanitiza√ß√£o: DOMPurify (JS) ou bleach (Python)
- Considerar markdown b√°sico na Fase 2 (negrito, it√°lico)



#### RF014 - Adi√ß√£o e remo√ß√£o de tags de hobbies/interesses

##### User Story
Como **aluno cadastrado**
Quero **adicionar tags de hobbies e interesses ao meu perfil**
Para **me conectar com outros alunos que compartilham dos mesmos interesses**

##### Descri√ß√£o
Sistema de tags onde usu√°rio pode adicionar palavras-chave representando seus hobbies, interesses acad√™micos, habilidades e paix√µes, facilitando descoberta e matching.

##### Regras de Neg√≥cio
- RN001: M√≠nimo de 3 tags, m√°ximo de 15 tags por perfil
- RN002: Cada tag pode ter no m√°ximo 20 caracteres
- RN003: Tags s√£o case-insensitive (salvas em lowercase)
- RN004: Tags duplicadas n√£o s√£o permitidas
- RN005: Tags sugeridas com base em universidade/curso (opcional)
- RN006: Tags s√£o utilizadas no algoritmo de matching de mentoria
- RN007: Tags s√£o utilizadas no algoritmo de sugest√£o de conex√µes

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que adiciono tag "futebol"
      Quando confirmo
      Ent√£o tag aparece na lista de minhas tags com bot√£o "X" para remover
      
- [ ] Dado que tento adicionar 16¬™ tag
      Quando tento adicionar
      Ent√£o vejo mensagem "M√°ximo de 15 tags atingido"
      
- [ ] Dado que adiciono tag "Programa√ß√£o" e depois "programa√ß√£o"
      Quando tento adicionar a segunda
      Ent√£o sistema detecta duplicata e impede
      
- [ ] Dado que tenho apenas 2 tags
      Quando tento salvar perfil
      Ent√£o vejo valida√ß√£o pedindo ao menos 3 tags
      
- [ ] Dado que removo uma tag
      Quando clico no "X"
      Ent√£o tag √© removida imediatamente e matching √© recalculado

##### Prioridade
**Alta** - Fundamental para algoritmos de conex√£o

##### Complexidade
**M√©dia** - Requer autocomplete e valida√ß√µes

##### Depend√™ncias
RF010 (Visualiza√ß√£o de perfil), RF051 (Sugest√µes de conex√£o), RF069 (Matching de mentoria)

##### Notas/Observa√ß√µes
- Interface tipo "chip" (tags visuais com X para remover)
- Autocomplete com tags populares
- Sugest√µes baseadas em curso: "Engenharia" ‚Üí "C√°lculo", "Programa√ß√£o"
- Colora√ß√£o visual por categoria (hobbies, acad√™mico, esportes)
- Busca de perfis por tags deve ser eficiente (√≠ndice no DB)
- Tags alimentam vetoriza√ß√£o para ML de matching



#### RF015 - Visualiza√ß√£o de badges conquistadas no perfil

##### User Story
Como **aluno cadastrado**
Quero **visualizar minhas badges conquistadas no perfil**
Para **acompanhar meu progresso e conquistas na plataforma**

##### Descri√ß√£o
Se√ß√£o do perfil que exibe todas as badges (medalhas/conquistas) que o usu√°rio conquistou, com √≠cones, nomes e descri√ß√µes de cada conquista.

##### Regras de Neg√≥cio
- RN001: Badges s√£o exibidas em ordem cronol√≥gica (mais recente primeiro)
- RN002: Cada badge mostra: √≠cone, nome, descri√ß√£o, data de conquista
- RN003: Badges n√£o conquistadas n√£o s√£o exibidas (sem preview "bloqueado")
- RN004: Badge especial destacada: √∫ltima conquistada
- RN005: Tooltip ao passar mouse mostra detalhes da conquista
- RN006: Se√ß√£o vazia mostra mensagem motivacional se nenhuma badge
- RN007: Badges s√£o p√∫blicas (qualquer usu√°rio pode ver)

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que conquistei 3 badges
      Quando visualizo meu perfil
      Ent√£o vejo as 3 badges com √≠cones coloridos e nomes
      
- [ ] Dado que ainda n√£o conquistei nenhuma badge
      Quando visualizo se√ß√£o de badges
      Ent√£o vejo mensagem "Comece a interagir para conquistar badges!"
      
- [ ] Dado que passo mouse sobre uma badge
      Quando hover ativa
      Ent√£o vejo tooltip com descri√ß√£o completa e data de conquista
      
- [ ] Dado que conquistei badge h√° 1 hora
      Quando visualizo perfil
      Ent√£o vejo destaque visual na badge mais recente
      
- [ ] Dado que visualizo perfil de outro usu√°rio
      Quando vejo suas badges
      Ent√£o badges dele s√£o vis√≠veis publicamente

##### Prioridade
**Alta** - Core de gamifica√ß√£o e engajamento

##### Complexidade
**Baixa** - Exibi√ß√£o de dados de relacionamento

##### Depend√™ncias
RF105-RF114 (Sistema de badges criado), RF010 (Visualiza√ß√£o de perfil)

##### Notas/Observa√ß√µes
- Design visual atrativo (√≠cones coloridos, anima√ß√£o sutil)
- Grid responsivo (3-4 badges por linha em desktop)
- Link "Ver todas" se tiver mais de 6 badges
- Modal com detalhes ao clicar na badge
- Anima√ß√£o de "nova conquista" quando badge √© desbloqueada
- Considerar "badges raras" com destaque especial



#### RF016 - Visualiza√ß√£o de estat√≠sticas p√∫blicas (threads, coment√°rios, eventos)

##### User Story
Como **aluno cadastrado**
Quero **visualizar estat√≠sticas de atividade no perfil**
Para **acompanhar meu engajamento e ver como contribuo para a comunidade**

##### Descri√ß√£o
Se√ß√£o do perfil exibindo m√©tricas quantitativas de participa√ß√£o do usu√°rio: threads criadas, coment√°rios feitos, eventos participados e outras estat√≠sticas relevantes.

##### Regras de Neg√≥cio
- RN001: M√©tricas exibidas: threads criadas, coment√°rios, upvotes recebidos, eventos participados
- RN002: Estat√≠sticas s√£o p√∫blicas (vis√≠veis por todos)
- RN003: Contadores atualizam em tempo real ap√≥s a√ß√£o
- RN004: Threads/coment√°rios deletados n√£o contam
- RN005: Exibir posi√ß√£o relativa opcional: "Top 15% mais ativos"
- RN006: N√£o exibir ranking comparativo (evitar competi√ß√£o)
- RN007: Link clic√°vel leva para lista de threads/coment√°rios do usu√°rio

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que criei 8 threads, 30 coment√°rios e participei de 5 eventos
      Quando visualizo meu perfil
      Ent√£o vejo contadores: "8 threads", "30 coment√°rios", "5 eventos"
      
- [ ] Dado que crio uma nova thread
      Quando retorno ao perfil
      Ent√£o contador de threads atualiza automaticamente (8 ‚Üí 9)
      
- [ ] Dado que clico em "8 threads"
      Quando interajo
      Ent√£o sou redirecionado para lista de todas minhas threads
      
- [ ] Dado que recebi 50 upvotes em minhas contribui√ß√µes
      Quando visualizo estat√≠sticas
      Ent√£o vejo contador "50 upvotes recebidos"
      
- [ ] Dado que visualizo perfil de outro usu√°rio
      Quando vejo suas estat√≠sticas
      Ent√£o elas s√£o publicamente vis√≠veis

##### Prioridade
**Alta** - Importante para gamifica√ß√£o e transpar√™ncia

##### Complexidade
**M√©dia** - Agrega√ß√£o de dados de m√∫ltiplas tabelas

##### Depend√™ncias
RF022-RF046 (Threads), RF079-RF096 (Eventos)

##### Notas/Observa√ß√µes
- Layout em cards ou colunas visuais
- √çcones representativos para cada m√©trica
- Tooltip com explica√ß√£o de cada estat√≠stica
- Considerar gr√°fico de atividade ao longo do tempo (Fase 2)
- Cache de estat√≠sticas para performance (recalcular a cada a√ß√£o)
- Query otimizada com COUNT agregado



#### RF017 - Adi√ß√£o de redes sociais (WhatsApp, Instagram, LinkedIn)

##### User Story
Como **aluno cadastrado**
Quero **adicionar meus contatos de redes sociais ao perfil**
Para **facilitar conex√£o com outros alunos ap√≥s aceitarmos amizade**

##### Descri√ß√£o
Campos opcionais no perfil onde usu√°rio pode adicionar links/usernames de suas principais redes sociais (WhatsApp, Instagram, LinkedIn).

##### Regras de Neg√≥cio
- RN001: Campos de redes sociais s√£o opcionais
- RN002: WhatsApp: formato +55 (11) 99999-9999 ou link wa.me
- RN003: Instagram: @username ou link completo
- RN004: LinkedIn: URL do perfil ou slug
- RN005: Valida√ß√£o de formato para cada rede social
- RN006: Redes sociais ocultas por padr√£o (vis√≠veis apenas para amigos)
- RN007: Usu√°rio pode deixar campos vazios sem penalidade

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que edito perfil e adiciono WhatsApp "+5511999998888"
      Quando salvo
      Ent√£o n√∫mero √© formatado e salvo corretamente
      
- [ ] Dado que adiciono Instagram "@meuperfil"
      Quando salvo
      Ent√£o sistema valida formato e aceita
      
- [ ] Dado que adiciono LinkedIn com URL completo
      Quando salvo
      Ent√£o link √© validado e armazenado
      
- [ ] Dado que tento adicionar WhatsApp com formato inv√°lido "999999"
      Quando tento salvar
      Ent√£o vejo valida√ß√£o "Formato inv√°lido. Use: +55 (11) 99999-9999"
      
- [ ] Dado que deixo todos os campos de redes sociais vazios
      Quando salvo perfil
      Ent√£o sistema permite salvar sem erro

##### Prioridade
**Alta** - Essencial para conex√£o entre alunos

##### Complexidade
**M√©dia** - Valida√ß√µes espec√≠ficas por rede

##### Depend√™ncias
RF012 (Edi√ß√£o de perfil), RF018 (Oculta√ß√£o)

##### Notas/Observa√ß√µes
- Input mask para WhatsApp (formata√ß√£o autom√°tica)
- Valida√ß√£o de username do Instagram (verificar se existe - opcional)
- Link clic√°vel no perfil abre em nova aba
- √çcones visuais de cada rede social
- Placeholder com exemplo: "Ex: +55 (11) 99999-9999"
- Regex para valida√ß√£o: cada rede tem seu padr√£o



#### RF018 - Oculta√ß√£o de redes sociais para n√£o-amigos

##### User Story
Como **aluno cadastrado**
Quero **que minhas redes sociais fiquem ocultas para quem n√£o √© meu amigo**
Para **proteger minha privacidade e evitar contato indesejado**

##### Descri√ß√£o
L√≥gica de privacidade que oculta informa√ß√µes de contato (WhatsApp, Instagram, LinkedIn) para usu√°rios que n√£o possuem rela√ß√£o de amizade aceita mutuamente.

##### Regras de Neg√≥cio
- RN001: Redes sociais vis√≠veis APENAS para amigos confirmados
- RN002: Para n√£o-amigos: exibir placeholder "Conecte-se para ver contatos"
- RN003: Verifica√ß√£o de amizade bidirecional (ambos aceitaram)
- RN004: Redes sociais sempre vis√≠veis no pr√≥prio perfil
- RN005: Admin consegue ver todos os contatos (modera√ß√£o)
- RN006: Ap√≥s remover amizade, contatos voltam a ficar ocultos
- RN007: Query otimizada para verificar status de amizade

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que N√ÉO sou amigo de Lucas
      Quando visualizo perfil dele
      Ent√£o vejo placeholder "Adicione como amigo para ver contatos"
      
- [ ] Dado que SOU amigo de Mariana
      Quando visualizo perfil dela
      Ent√£o vejo WhatsApp, Instagram e LinkedIn dela
      
- [ ] Dado que visualizo meu pr√≥prio perfil
      Quando acesso
      Ent√£o sempre vejo todos meus contatos independente de amizades
      
- [ ] Dado que sou admin da plataforma
      Quando visualizo qualquer perfil
      Ent√£o vejo todos os contatos para fins de modera√ß√£o
      
- [ ] Dado que removo amizade com Jo√£o
      Quando visualizo perfil dele ap√≥s remo√ß√£o
      Ent√£o contatos voltam a ficar ocultos imediatamente

##### Prioridade
**Alta** - Requisito cr√≠tico de privacidade

##### Complexidade
**M√©dia** - L√≥gica condicional de exibi√ß√£o

##### Depend√™ncias
RF017 (Adi√ß√£o de redes sociais), RF056-RF067 (Sistema de amizades)

##### Notas/Observa√ß√µes
- Join query: users + friendships para verificar status
- Cache de rela√ß√µes de amizade para performance
- Icon de "cadeado" visual indicando campo privado
- Mensagem clara motivando conex√£o
- Considerar configura√ß√£o futura: "tornar p√∫blico" (opt-in)



#### RF019 - Libera√ß√£o autom√°tica de redes sociais ap√≥s aceite de amizade

##### User Story
Como **aluno que aceitou pedido de amizade**
Quero **que os contatos do meu novo amigo sejam liberados automaticamente**
Para **poder entrar em contato imediatamente sem passos adicionais**

##### Descri√ß√£o
Trigger autom√°tico que, ap√≥s aceite m√∫tuo de amizade, libera imediatamente a visualiza√ß√£o de redes sociais para ambos os usu√°rios, sem necessidade de a√ß√£o manual.

##### Regras de Neg√≥cio
- RN001: Libera√ß√£o ocorre instantaneamente ap√≥s aceitar solicita√ß√£o
- RN002: Libera√ß√£o √© bidirecional (ambos veem contatos um do outro)
- RN003: N√£o requer refresh da p√°gina (update em tempo real via WebSocket ou polling)
- RN004: Evento de libera√ß√£o registrado em log (auditoria)
- RN005: Notifica√ß√£o opcional: "Agora voc√™ pode ver os contatos de [Nome]"
- RN006: Se usu√°rio n√£o preencheu redes sociais, exibe mensagem adequada
- RN007: Remo√ß√£o de amizade reverte libera√ß√£o automaticamente

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que aceito pedido de amizade de Lucas
      Quando aceite √© processado
      Ent√£o imediatamente vejo contatos de Lucas sem reload
      
- [ ] Dado que aceito amizade
      Quando Lucas visualiza meu perfil
      Ent√£o ele tamb√©m v√™ meus contatos instantaneamente
      
- [ ] Dado que aceito amizade mas n√£o tenho WhatsApp cadastrado
      Quando novo amigo v√™ meu perfil
      Ent√£o aparece mensagem "Usu√°rio n√£o adicionou WhatsApp ainda"
      
- [ ] Dado que sistema registra aceite de amizade
      Quando verifico logs de auditoria
      Ent√£o vejo registro de libera√ß√£o de contatos com timestamp
      
- [ ] Dado que removo amizade depois
      Quando remo√ß√£o √© confirmada
      Ent√£o contatos voltam a ficar ocultos automaticamente

##### Prioridade
**Alta** - Fluxo core de conex√£o entre usu√°rios

##### Complexidade
**M√©dia** - Requer trigger e atualiza√ß√£o de estado

##### Depend√™ncias
RF017 (Redes sociais), RF018 (Oculta√ß√£o), RF059 (Aceitar amizade)

##### Notas/Observa√ß√µes
- Trigger no backend: ap√≥s INSERT em friendships com status "accepted"
- WebSocket para update em tempo real (opcional, sen√£o polling)
- Toast notification: "Agora voc√™ e [Nome] s√£o amigos! üéâ"
- Query optimization: evitar N+1 queries em listagem de amigos
- Considerar evento de analytics: "friendship_established"



#### RF020 - Upload de foto de perfil

##### User Story
Como **aluno cadastrado**
Quero **fazer upload de uma foto de perfil**
Para **personalizar meu perfil e ser facilmente reconhecido pelos colegas**

##### Descri√ß√£o
Funcionalidade que permite usu√°rio fazer upload de imagem para usar como foto de perfil, com preview antes de salvar e valida√ß√µes de formato e tamanho.

##### Regras de Neg√≥cio
- RN001: Formatos aceitos: JPG, JPEG, PNG, WEBP
- RN002: Tamanho m√°ximo: 5MB por arquivo
- RN003: Imagem √© redimensionada para 400x400px (thumbnail)
- RN004: Preview instant√¢neo antes de confirmar upload
- RN005: Foto anterior √© substitu√≠da (n√£o mant√©m hist√≥rico)
- RN006: Cropping/recorte opcional para ajuste
- RN007: Avatar padr√£o exibido se usu√°rio n√£o fizer upload

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que clico em "Alterar foto"
      Quando seleciono arquivo JPG v√°lido
      Ent√£o vejo preview da imagem antes de confirmar
      
- [ ] Dado que tento upload de arquivo GIF
      Quando seleciono arquivo
      Ent√£o vejo erro "Formato n√£o suportado. Use JPG, PNG ou WEBP"
      
- [ ] Dado que tento upload de imagem de 8MB
      Quando seleciono arquivo
      Ent√£o vejo erro "Tamanho m√°ximo: 5MB"
      
- [ ] Dado que confirmo upload
      Quando processamento termina
      Ent√£o minha foto atualiza instantaneamente no perfil
      
- [ ] Dado que ainda n√£o fiz upload de foto
      Quando visualizo perfil
      Ent√£o vejo avatar padr√£o (inicial do nome ou √≠cone gen√©rico)

##### Prioridade
**Alta** - Importante para personaliza√ß√£o e reconhecimento

##### Complexidade
**M√©dia** - Requer processamento de imagem

##### Depend√™ncias
RF010 (Visualiza√ß√£o de perfil), RF012 (Edi√ß√£o)

##### Notas/Observa√ß√µes
- Biblioteca de upload: react-dropzone (frontend)
- Processamento de imagem: Pillow (Python) ou Sharp (Node)
- Storage: S3 ou local (desenvolvimento)
- CDN para servir imagens (produ√ß√£o)
- Cropping tool: react-image-crop ou similar
- Lazy loading de imagens em listagens
- Gerar m√∫ltiplos tamanhos: thumbnail (100x100), medium (400x400)



#### RF021 - Valida√ß√£o de tamanho m√°ximo de foto

##### User Story
Como **sistema ISMART Conecta**
Quero **validar tamanho m√°ximo de fotos de perfil**
Para **evitar sobrecarga no servidor e garantir performance da plataforma**

##### Descri√ß√£o
Valida√ß√£o autom√°tica do tamanho de arquivo de imagens enviadas, tanto no frontend (feedback imediato) quanto no backend (seguran√ßa), rejeitando uploads acima do limite estabelecido.

##### Regras de Neg√≥cio
- RN001: Tamanho m√°ximo: 5MB (5.242.880 bytes)
- RN002: Valida√ß√£o ocorre em duas camadas: frontend E backend
- RN003: Erro deve ser claro e informativo
- RN004: Sugerir compress√£o se imagem estiver acima do limite
- RN005: Logging de tentativas de upload acima do limite
- RN006: Bloquear upload de arquivos corrompidos
- RN007: Valida√ß√£o de dimens√µes m√≠nimas: 100x100px

##### Crit√©rios de Aceita√ß√£o
- [ ] Dado que seleciono imagem de 3MB
      Quando inicio upload
      Ent√£o valida√ß√£o passa e upload procede normalmente
      
- [ ] Dado que seleciono imagem de 8MB
      Quando inicio upload
      Ent√£o vejo erro no frontend imediatamente: "Tamanho m√°ximo: 5MB"
      
- [ ] Dado que burlo valida√ß√£o frontend e envio arquivo grande via API
      Quando backend recebe requisi√ß√£o
      Ent√£o retorna erro 413 (Payload Too Large)
      
- [ ] Dado que envio imagem de 50x50px
      Quando sistema valida
      Ent√£o vejo erro "Dimens√µes m√≠nimas: 100x100px"
      
- [ ] Dado que envio arquivo corrompido
      Quando sistema tenta processar
      Ent√£o rejeita com erro "Arquivo inv√°lido ou corrompido"

##### Prioridade
**Alta** - Requisito n√£o-funcional cr√≠tico (RNF017)

##### Complexidade
**Baixa** - Valida√ß√£o padr√£o de arquivo

##### Depend√™ncias
RF020 (Upload de foto)

##### Notas/Observa√ß√µes
- Valida√ß√£o frontend: antes de enviar (File API)
- Valida√ß√£o backend: middleware de upload
- Mensagem sugestiva: "Dica: comprima sua imagem em tinypng.com"
- Logs para analytics: quantos uploads s√£o rejeitados
- Considerar limite menor em mobile (3MB) para economia de dados
- Header HTTP: Content-Length para pr√©-valida√ß√£o