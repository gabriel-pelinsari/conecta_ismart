
### MÓDULO 4: DESCOBERTA E AGRUPAMENTO

#### RF047 - Página "Explorar" com lista de alunos

##### User Story
Como **aluno cadastrado**
Quero **explorar e descobrir outros alunos da plataforma**
Para **encontrar pessoas com interesses similares e expandir minha rede**

##### Descrição
Página dedicada que exibe lista de todos os alunos cadastrados com filtros e opções de descoberta, mostrando informações básicas (foto, nome, universidade, curso, tags) de forma visual.

##### Regras de Negócio
- RN001: Exibir todos os alunos ativos (não deletados)
- RN002: Ordem padrão: aleatória (para descoberta)
- RN003: Informações exibidas: foto, nome, universidade, curso, semestre, 3 tags principais
- RN004: Botão "Adicionar amigo" em cada card
- RN005: Status de amizade visível: "Adicionar", "Solicitação enviada", "Amigos"
- RN006: Load inicial: 20 alunos com infinite scroll
- RN007: Perfil clicável: leva para página de perfil detalhado

##### Critérios de Aceitação
- [ ] Dado que acesso página "Explorar"
      Quando página carrega
      Então vejo 20 alunos em cards com foto, nome, universidade, curso e tags
      
- [ ] Dado que há 150 alunos cadastrados
      Quando scrollo até o final da página
      Então próximos 20 alunos carregam automaticamente (infinite scroll)
      
- [ ] Dado que clico em "Adicionar amigo"
      Quando confirmo
      Então status muda para "Solicitação enviada" e usuário recebe notificação
      
- [ ] Dado que já enviei solicitação para um aluno
      Quando visualizo novamente
      Então botão mostra "Solicitação enviada" (desabilitado)
      
- [ ] Dado que clico no card do aluno
      Quando interajo
      Então sou redirecionado para perfil detalhado dele

##### Prioridade
**Alta** - Core de descoberta e conexão

##### Complexidade
**Média** - Listagem com lazy loading e filtros

##### Dependências
RF010 (Perfil), RF056 (Sistema de amizades)

##### Notas/Observações
- Query otimizada com pagination e caching
- Cards responsivos (3 colunas desktop, 1 mobile)
- Ordem aleatória usa RANDOM() ou algoritmo de shuffle
- Thumbnail de foto (100x100px)
- Skeleton loading enquanto carrega
- Filtros sidebar (universidade, curso, tags)
- "Refresh" para carregar novo conjunto aleatório



#### RF048 - Filtro de alunos por universidade

##### User Story
Como **aluno cadastrado**
Quero **filtrar alunos por universidade específica**
Para **conectar-me com colegas da minha instituição**

##### Descrição
Filtro lateral permitindo selecionar uma ou múltiplas universidades para visualizar apenas alunos daquelas instituições.

##### Regras de Negócio
- RN001: Lista de universidades ordenada alfabeticamente
- RN002: Suporte a seleção múltipla (checkbox)
- RN003: Contador de alunos por universidade visível
- RN004: "Minha universidade" destacada visualmente
- RN005: Filtro pode ser aplicado junto com outros filtros
- RN006: Link rápido: "Ver colegas da minha universidade"
- RN007: Aplicar filtro atualiza lista e URL (?universities=USP,UNICAMP)

##### Critérios de Aceitação
- [ ] Dado que seleciono universidade "USP"
      Quando aplico filtro
      Então vejo apenas alunos da USP
      
- [ ] Dado que há 45 alunos da USP e 30 da UNICAMP
      Quando visualizo filtro
      Então vejo "USP (45)" e "UNICAMP (30)"
      
- [ ] Dado que minha universidade é USP
      Quando visualizo filtro
      Então vejo "Minha universidade - USP" destacado visualmente
      
- [ ] Dado que seleciono múltiplas universidades (USP + FGV)
      Quando aplico
      Então vejo alunos que estudam em USP OU FGV
      
- [ ] Dado que limpo filtro
      Quando aplico
      Então vejo alunos de todas universidades novamente

##### Prioridade
**Alta** - Descoberta contextualizada

##### Complexidade
**Baixa** - Filtro SQL simples

##### Dependências
RF047 (Página Explorar)

##### Notas/Observações
- Checkbox com contadores dinâmicos
- Sidebar responsivo (colapsável em mobile)
- Busca de universidade (autocomplete) se >20 opções
- Badge visual "Minha Universidade"
- URL com query params para compartilhamento
- Cache de contadores por 1 hora



#### RF049 - Filtro de alunos por curso

##### User Story
Como **aluno cadastrado**
Quero **filtrar alunos por curso específico**
Para **encontrar pessoas do meu curso ou cursos relacionados**

##### Descrição
Filtro permitindo selecionar um ou múltiplos cursos para visualizar apenas alunos inscritos naqueles programas acadêmicos.

##### Regras de Negócio
- RN001: Cursos agrupados por universidade (dropdown aninhado)
- RN002: Suporte a seleção múltipla (checkbox)
- RN003: Contador de alunos por curso visível
- RN004: "Meu curso" destacado visualmente
- RN005: Cursos ordenados alfabeticamente dentro de cada universidade
- RN006: Filtro combinável com universidade, interesses, etc
- RN007: URL reflete seleção: ?courses=123,456

##### Critérios de Aceitação
- [ ] Dado que seleciono curso "Engenharia de Computação"
      Quando aplico filtro
      Então vejo apenas alunos desse curso
      
- [ ] Dado que expando universidade "USP"
      Quando vejo cursos
      Então aparecem em ordem alfabética (Ex: Admin, Eng. Comp, Eng. Elétrica)
      
- [ ] Dado que seleciono múltiplos cursos
      Quando aplico
      Então vejo alunos de qualquer um dos cursos selecionados
      
- [ ] Dado que meu curso é "Administração"
      Quando visualizo filtro
      Então vejo "Meu curso - Administração" destacado
      
- [ ] Dado que combino filtro curso + universidade
      Quando aplico ambos
      Então vejo alunos que estudam o curso específico NA universidade específica

##### Prioridade
**Alta** - Descoberta segmentada

##### Complexidade
**Média** - Filtro aninhado com agrupamento

##### Dependências
RF047 (Página Explorar), RF048 (Filtro universidade)

##### Notas/Observações
- Dropdown com scroll se >15 cursos
- Estrutura: Universidade > Cursos
- Badge "Meu Curso"
- Validação: apenas cursos de universidades selecionadas aparecem
- Query otimizada com GROUP BY
- Considerar "Cursos relacionados" sugeridos



#### RF050 - Filtro de alunos por interesses comuns

##### User Story
Como **aluno cadastrado**
Quero **filtrar alunos que compartilham meus interesses**
Para **conectar-me com pessoas com paixões similares**

##### Descrição
Filtro que permite visualizar apenas alunos cujas tags de interesses coincidem com uma ou múltiplas tags selecionadas.

##### Regras de Negócio
- RN001: Sugestão automática de tags baseada em minhas tags
- RN002: Busca/autocomplete de tags populares
- RN003: Suporte a múltipla seleção (AND/OR configurable)
- RN004: Contador de alunos com cada tag
- RN005: Algoritmo: mostrar alunos que têm ≥1 tag em comum (OR padrão)
- RN006: Priorizar alunos com mais tags em comum (ordenação)
- RN007: Link rápido: "Alunos com meus interesses"

##### Critérios de Aceitação
- [ ] Dado que minhas tags são "Python, Fotografia, Futebol"
      Quando aplico filtro
      Então vejo alunos que têm pelo menos uma dessas tags
      
- [ ] Dado que há 30 alunos com "Python" e 20 com "Fotografia"
      Quando filtro por "Python"
      Então vejo "Python (30)" no filtro
      
- [ ] Dado que seleciono tags "Python" E "Design"
      Quando aplico
      Então alunos com ambas tags aparecem primeiro, depois com apenas uma
      
- [ ] Dado que digito "prog" no filtro de tags
      Quando digito
      Então autocomplete sugere "Programação", "Programa de Bolsa"
      
- [ ] Dado que claro todos os filtros de tag
      Quando aplico
      Então vejo alunos de todas universidades/cursos (sem filtro)

##### Prioridade
**Alta** - Matching baseado em interesses

##### Complexidade
**Alta** - Requer lógica de priorização e matching

##### Dependências
RF014 (Sistema de tags), RF047 (Página Explorar)

##### Notas/Observações
- Tabela `user_tags`: user_id, tag_id
- Query com múltiplos JOINs ou subqueries
- Scoring: contar tags em comum e ordenar DESC
- Autocomplete com tags populares (top 50)
- Cloud visual de tags opcionalmente
- Considerar machine learning para matching na Fase 2
- Cache de resultados por 5 minutos



#### RF051 - Sugestões de conexão baseadas em vetorização de interesses

##### User Story
Como **aluno cadastrado**
Quero **receber sugestões personalizadas de alunos para conectar**
Para **encontrar pessoas compatíveis sem precisar buscar manualmente**

##### Descrição
Sistema de recomendação que utiliza vetorização de interesses (tags) para calcular similaridade e sugerir alunos com perfil compatível com meu perfil.

##### Regras de Negócio
- RN001: Algoritmo: cosine similarity entre vetores de tags
- RN002: Mínimo 3 tags no meu perfil para gerar sugestões
- RN003: Não sugerir alunos já amigos
- RN004: Não sugerir alunos com solicitação pendente
- RN005: Limite: 10 sugestões por vez
- RN006: Atualizar sugestões a cada 24 horas ou quando perfil é editado
- RN007: Exibir score de compatibilidade (80%, 75%, etc)

##### Critérios de Aceitação
- [ ] Dado que tenho tags "Python, Música, Fotografia"
      Quando acesso "Sugestões para você"
      Então vejo 10 alunos com interesses similares ordenados por compatibilidade
      
- [ ] Dado que sugestão mostra "João - 85% compatível"
      Quando visualizo
      Então sei que compartilhamos muitos interesses
      
- [ ] Dado que já sou amigo de Pedro
      Quando vejo sugestões
      Então Pedro não aparece (já conectados)
      
- [ ] Dado que tenho apenas 2 tags
      Quando acesso sugestões
      Então vejo mensagem "Complete seu perfil com mais tags para melhores sugestões"
      
- [ ] Dado que altero minhas tags
      Quando salvo perfil
      Então sugestões são recalculadas automaticamente

##### Prioridade
**Alta** - Gamificação e engajamento

##### Complexidade
**Alta** - Requer ML/vetorização

##### Dependências
RF014 (Tags), RF047 (Página Explorar), RF056 (Amizades)

##### Notas/Observações
- Implementação: numpy/scikit-learn (Python) ou custom
- Armazenar vetor de tags por usuário (cache em Redis)
- Cálculo em background job (Celery/APScheduler)
- Similaridade: 0-100%
- Considerar recalcular a cada novo amigo (ajustar pool)
- A/B testing para algoritmo na Fase 2



#### RF052 - Grupos automáticos por universidade

##### User Story
Como **aluno cadastrado**
Quero **ter um grupo automático com todos os alunos da minha universidade**
Para **facilitar comunicação e colaboração com colegas**

##### Descrição
Grupos automáticos criados sistema para cada universidade, agrupando todos os alunos daquela instituição com espaço de discussão compartilhado.

##### Regras de Negócio
- RN001: 1 grupo automático por universidade
- RN002: Grupos criados automaticamente quando primeira inscrição de aluno em universidade
- RN003: Todos os alunos da universidade são members automaticamente
- RN004: Novo aluno adicionado automaticamente ao grupo da sua universidade
- RN005: Grupo tem nome: "[Nome da Universidade] - Comunidade ISMART"
- RN006: Descrição padrão explicando propósito
- RN007: Admin (ISMART) gerencia grupos

##### Critérios de Aceitação
- [ ] Dado que sou aluno da USP
      Quando meu cadastro é confirmado
      Então sou automaticamente adicionado ao grupo "USP - Comunidade ISMART"
      
- [ ] Dado que novo aluno entra na UNICAMP
      Quando cadastro é concluído
      Então aluno é adicionado ao grupo "UNICAMP - Comunidade ISMART"
      
- [ ] Dado que grupo da USP existe
      Quando visualizo
      Então vejo todos os 45 alunos da USP como members
      
- [ ] Dado que altero minha universidade
      Quando salvo mudança
      Então sou removido do grupo anterior e adicionado ao novo
      
- [ ] Dado que há 1000 alunos em 84 universidades
      Quando sistema inicia
      Então 84 grupos automáticos são criados

##### Prioridade
**Média** - Organização mas não bloqueia MVP

##### Complexidade
**Média** - Automação com triggers e batch jobs

##### Dependências
RF003 (Cadastro), RF053 (Página por universidade)

##### Notas/Observações
- Criação automática via trigger após INSERT em users
- Validação: university_id NOT NULL
- Índice em (user_id, university_id) para queries rápidas
- Migration de alunos existentes (batch job)
- Considerar chat de grupo na Fase 2
- Admin pode visualizar todos os grupos no painel



#### RF053 - Página dedicada por universidade listando todos os alunos

##### User Story
Como **aluno cadastrado**
Quero **visualizar página dedicada da minha universidade com todos os alunos**
Para **conhecer meus colegas ISMART e explorar networking**

##### Descrição
Página específica para cada universidade exibindo lista de todos os alunos daquela instituição com filtros e opções de conexão.

##### Regras de Negócio
- RN001: URL padrão: /universidades/[slug-universidade] (ex: /universidades/usp)
- RN002: Exibir foto, nome, curso, semestre, tags de cada aluno
- RN003: Ordenação padrão: aleatória (descoberta)
- RN004: Filtro por curso disponível nesta página
- RN005: Filtro por tags disponível nesta página
- RN006: Botão "Adicionar amigo" em cada card
- RN007: Breadcrumb: Explorar > [Nome Universidade]

##### Critérios de Aceitação
- [ ] Dado que clico em universidade "USP"
      Quando página carrega
      Então vejo todos os 45 alunos da USP em cards
      
- [ ] Dado que filtro por curso "Eng. de Computação"
      Quando aplico
      Então vejo apenas alunos da USP que cursam Eng. Comp (ex: 12 alunos)
      
- [ ] Dado que página carrega
      Quando visualizo breadcrumb
      Então vejo "Explorar > USP" com links navegáveis
      
- [ ] Dado que clico em "Adicionar amigo" em card de aluno
      Quando interajo
      Então solicitação é enviada e botão muda para "Solicitação enviada"
      
- [ ] Dado que há 200 alunos na universidade
      Quando página carrega com 20 cards
      Então resto carrega ao scrollar (infinite scroll)

##### Prioridade
**Alta** - Página importante de descoberta

##### Complexidade
**Média** - Página parametrizada com filtros

##### Dependências
RF047 (Explorar), RF048 (Filtro universidade), RF050 (Filtro interesses)

##### Notas/Observações
- Slug da universidade em URL (ex: usp, unicamp, fgv)
- Meta tags para SEO (nome da universidade)
- Link compartilhável da página
- Estatísticas: "XXX alunos nesta universidade"
- Destaque para alunos online/ativos
- Considerar contador de conexões por universidade



#### RF054 - Busca de alunos por nome

##### User Story
Como **aluno cadastrado**
Quero **buscar alunos por nome específico**
Para **encontrar uma pessoa que conheço ou que me foi recomendada**

##### Descrição
Função de busca textual permitindo localizar alunos pelo nome completo ou parcial com resultados em tempo real.

##### Regras de Negócio
- RN001: Busca case-insensitive
- RN002: Busca por nome completo ou parcial (ex: "João" encontra "João Silva")
- RN003: Resultados mostram nome, universidade, curso, foto
- RN004: Limite: máximo 50 resultados (evitar sobrecarga)
- RN005: Ordenação: match exato primeiro, depois parcial, depois alfabético
- RN006: Termo deve ter mínimo 2 caracteres
- RN007: Sugestão de "Você quis dizer?" se nenhum resultado (Fase 2)

##### Critérios de Aceitação
- [ ] Dado que digito "João" no campo de busca
      Quando submeto
      Então vejo todos os alunos com "João" no nome (ex: João Silva, João Pereira)
      
- [ ] Dado que digito "J"
      Quando digito
      Então vejo mensagem "Digite ao menos 2 caracteres"
      
- [ ] Dado que digito "joão" (minúscula)
      Quando submeto
      Então recebo resultados iguais a "João" (case-insensitive)
      
- [ ] Dado que há 100 alunos com "Silva" no nome
      Quando busco "Silva"
      Então vejo 50 primeiros resultados com "Carregar mais"
      
- [ ] Dado que busco "João Silva" (nome completo)
      Quando submeto
      Então match exato aparece primeiro se existir

##### Prioridade
**Alta** - Funcionalidade essencial de busca

##### Complexidade
**Média** - Busca textual com ranking

##### Dependências
RF047 (Página Explorar)

##### Notas/Observações
- Campo de busca na navbar (sticky)
- Autocomplete com histórico de buscas (opcional)
- Full-text search ou LIKE com índice
- Debounce 300ms para não sobrecarregar API
- Query: WHERE LOWER(full_name) LIKE '%termo%'
- Considerar busca por username na Fase 2



#### RF055 - Filtros combinados (múltiplos critérios simultâneos)

##### User Story
Como **aluno cadastrado**
Quero **combinar múltiplos filtros na página de exploração**
Para **encontrar alunos muito específicos (ex: Eng. Comp da USP com interesse em IA)**

##### Descrição
Sistema que permite aplicar múltiplos filtros simultaneamente (universidade + curso + tags + semestre) com atualização dinâmica de resultados e URL refletindo todas as condições.

##### Regras de Negócio
- RN001: Suporte a mínimo 5 dimensões de filtro: universidade, curso, tags, semestre, ordenação
- RN002: Filtros operam em AND (todos aplicados simultaneamente)
- RN003: URL reflete todos os filtros: ?universities=USP&courses=123&tags=Python&semester=4
- RN004: Contador de resultados atualiza dinamicamente
- RN005: Botão "Limpar filtros" para reset rápido
- RN006: Salvar filtros favoritos (opcional Fase 2)
- RN007: Performance: máximo 2 segundos para consulta

##### Critérios de Aceitação
- [ ] Dado que seleciono universidade "USP" + curso "Eng. Comp" + tag "Python"
      Quando aplico filtros
      Então vejo apenas alunos da USP, cursando Eng. Comp, com tag Python
      
- [ ] Dado que aplico múltiplos filtros
      Quando visualizo URL
      Então reflete todos: ?universities=USP&courses=123&tags=Python,IA
      
- [ ] Dado que tenho 3 filtros aplicados
      Quando clico "Limpar filtros"
      Então todos são removidos e vejo alunos de todas universidades/cursos
      
- [ ] Dado que há 5 alunos que match todos os critérios
      Quando aplico filtros
      Então vejo "Exibindo 5 alunos" como contador
      
- [ ] Dado que combino filtros e não há resultados
      Quando sistema processa
      Então vejo mensagem "Nenhum aluno encontrado. Tente alterar os filtros."

##### Prioridade
**Alta** - Essencial para descoberta precisa

##### Complexidade
**Alta** - Query dinâmica complexa com múltiplos JOINs

##### Dependências
RF048-RF050 (Todos os filtros individuais), RF047 (Explorar)

##### Notas/Observações
- Query builder dinâmico (backend)
- Caching de resultados por 5 minutos
- Validação de parâmetros de segurança
- Índices compostos: (university_id, course_id), (university_id, user_id)
- Considerar Elasticsearch para queries muito complexas
- A/B testing de ordem de filtros (UX)
- Pre-computed facets para performance
